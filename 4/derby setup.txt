 -- Setup the derby database using the following steps --
 ** Execute them in the sequence they are in, top to bottom ** 
 ** the schema "ID1212" to an appropriate one or use the same ** 

 -- create the currency table --
create table "ID1212".currency (
    code VARCHAR(10) not null primary key,
    name VARCHAR(255) unique not null
);

 -- create the pair table --
create table "ID1212".pair (
    id INTEGER generated by default as identity (start with 1, increment by 1) not null primary key,
    base VARCHAR(10) not null,
    quote VARCHAR(10) not null,
    rate DOUBLE not null,
    foreign key (base) references currency (code),
    foreign key (quote) references currency (code),
    unique (base, quote),
    check (base != quote)
);

 -- populate currency table -- 
insert into "ID1212".currency values ('SEK', 'Swedish krona');
insert into "ID1212".currency values ('EUR', 'Euro');
insert into "ID1212".currency values ('GBP', 'Pound sterling');
insert into "ID1212".currency values ('ZAR', 'South African rand');

 -- populate pair table -- 
insert into "ID1212".pair (base, quote, rate) values ('SEK', 'EUR', 0.1);
insert into "ID1212".pair (base, quote, rate) values ('SEK', 'GBP', 0.09);
insert into "ID1212".pair (base, quote, rate) values ('SEK', 'ZAR', 1.61);
insert into "ID1212".pair (base, quote, rate) values ('EUR', 'GBP', 0.89);
insert into "ID1212".pair (base, quote, rate) values ('EUR', 'ZAR', 16.04);
insert into "ID1212".pair (base, quote, rate) values ('GBP', 'ZAR', 18.12);